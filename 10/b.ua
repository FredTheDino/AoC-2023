Sp ← ⊜∘≠,
I ← Sp @\n &fras "input"

X = ".F7LJ-|"
C = /+* ? rev =@.:;fold(dip(join mod 2).(+0|+1|-1|+1|-1|+0|*neg1)indexof:X) dipdip([]) :0 .

C ".F----7F7F7F7F-7...."
C "L--J.L7...LJF7F-7L7."

# rows(C) I

